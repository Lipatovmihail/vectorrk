# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

## ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (19bda55)

1. **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –ø–æ–¥ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç n8n:
   - –£–±—Ä–∞–Ω—ã `step1`, `step2`, `step3`, `step4`, `step5`, `step6`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `id_fact`, `object_name`, `order_number`, `object_address`, `delivery_datetime`, `status`, `materials`
   - Mock –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

2. **–£–±—Ä–∞–Ω–æ –ø–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏** (`/request`):
   - –ü–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é —Ç–µ–ø–µ—Ä—å –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"/"–î–∞–ª–µ–µ"
   - –ú–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

## üìã –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è n8n webhook (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### –ó–∞–ø—Ä–æ—Å –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
```json
{
  "page": "edit",
  "mode": "editlist",
  "telegram_id": 123456789,
  "initData": "...",
  "telegram_user": { ... },
  "timestamp": "2024-12-20T12:00:00.000Z"
}
```

### –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç –æ—Ç n8n:
```json
[
  {
    "success": true,
    "total": 2,
    "data": [
      {
        "id_fact": 29,
        "object_name": "–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω—Ç–∞–∂ –≤–æ—Ä–æ—Ç",
        "order_number": "–ù–ó 562/2024",
        "object_address": "–ó–∞–π—Ü–µ–≤–∞",
        "delivery_datetime": "2024-10-31 12:44:00",
        "status": "–°–æ–∑–¥–∞–Ω–∞",
        "materials": "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã\n1. –©–∏—Ç (2050400012) - 1 —à—Ç..."
      }
    ]
  }
]
```

## üåê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é

### –®–∞–≥ 1: Vercel Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [vercel.com](https://vercel.com)
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç —á–µ—Ä–µ–∑ GitHub
3. –ù–∞–∂–º–∏—Ç–µ **"Add New..." ‚Üí "Project"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `Lipatovmihail/vectorrk`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **Framework Preset**: Next.js (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
- **Root Directory**: `vector`
- **Build Command**: `npm run build` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Output Directory**: `.next` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –®–∞–≥ 3: Environment Variables
–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```
TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–û–¢_BOTFATHER
TELEGRAM_CHAT_ID=-1003083346855
```

**–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ä–µ–¥ (Production, Preview, Development)

### –®–∞–≥ 4: Deploy
–ù–∞–∂–º–∏—Ç–µ **"Deploy"** –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏.

## üéØ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏:

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/`)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–æ–∫ –∏–∑ n8n (`mode: "main"`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º: –í—Å–µ / –°–æ–∑–¥–∞–Ω–∞ / –í —Ä–∞–±–æ—Ç–µ / –ì–æ—Ç–æ–≤–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: `object_name`, `delivery_datetime`, `object_address`, `order_number`
- ‚úÖ –°–∫—Ä—ã—Ç–∏–µ –≤—Ä–µ–º–µ–Ω–∏, –µ—Å–ª–∏ `00:00`
- ‚úÖ –ü–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ (`/request`)
- ‚úÖ 6 —à–∞–≥–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ Telegram Bot API
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ —Ñ–æ—Ç–æ >2MB
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ n8n (`mode: "create"`)
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ **–ü–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é —Å–∫—Ä—ã—Ç–æ** (–Ω–µ –º–µ—à–∞–µ—Ç –∫–Ω–æ–ø–∫–∞–º)

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (`/analytics`)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ n8n (`mode: "allorder"`)
- ‚úÖ –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è Bar Chart (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤)
- ‚úÖ Donut Chart (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤
- ‚úÖ –¶–≤–µ—Ç–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- ‚úÖ –ü–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`/edit`)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ (`mode: "editlist"`)
- ‚úÖ **–ù–æ–≤—ã–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 5 –ø–æ–ª–µ–π: –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- ‚úÖ Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- ‚úÖ –ü–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## üîÑ Webhook endpoints n8n:

```
https://n8nunit.miaai.ru/webhook/f760ae2e-d95f-4f48-9134-c60aa408372b
```

### –†–µ–∂–∏–º—ã (`mode`):
- `"main"` - –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–æ–∫ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `"create"` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–∏
- `"allorder"` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `"editlist"` - –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–æ–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üì± –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Telegram WebApp:

- ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π fullscreen —Ä–µ–∂–∏–º (`expand()`)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è iPhone notch (`pt-safe`)
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è (`enableClosingConfirmation()`)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ `file_id` –≤–º–µ—Å—Ç–æ blob URLs
- ‚úÖ Sonner toast notifications –≤–º–µ—Å—Ç–æ alert()

## üõ† –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

–¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å ID **`1056703690`** –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—è–≤–∫–∏.

## üìä Commit Hash: `19bda55`

–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç:
```
–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö n8n 
–∏ —É–±—Ä–∞–ª –ø–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏
```

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üéâ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Vercel, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ n8n
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–ª–∞–≤–∞—é—â–µ–µ –º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

